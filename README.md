# Тестовое задание

```POST api/v1/wallet```
 ```
 {
    valletId: UUID,
    operationType: DEPOSIT or WITHDRAW,
    amount: 1000
 }
 ```

после выполнять логику по изменению счета в базе данных

также есть возможность получить баланс кошелька

``` GET api/v1/wallets/{WALLET_UUID} ```

## Стек технологий

Amazon Coretto 17 JDK, Spring Boot 3, Postgresql 15.

## Техническое задание

- Должны быть написаны миграции для базы данных с помощью liquibase.


- Обратите особое внимание проблемам при работе в конкурентной среде (1000 RPS по
одному кошельку). Ни один запрос не должен быть не обработан (50Х error).


- Предусмотрите соблюдение формата ответа для заведомо неверных запросов, когда
кошелька не существует, не валидный json, или недостаточно средств.


- Приложение должно запускаться в докер контейнере, база данных тоже, вся система
должна подниматься с помощью docker-compose.


- Предусмотрите возможность настраивать различные параметры как на стороне
приложения, так и базы данных без пересборки контейнеров.


- Эндпоинты должны быть покрыты тестами.


- Решенное задание залить на гитхаб, предоставить ссылку
Все возникающие вопросы по заданию решать самостоятельно, по своему
усмотрению.

## Примечания по выполненной работе

1. Реализован основной функционал приложения.


2. Описана схема таблицы Wallet при помощи liquibase, а также добавлены стартовые данные.


3. Пакеты controllers, services и mappers имеют 100% покрытие тестами. Тесты находятся в директории ..\root\src\test\. Через файл resources\application.properties подключается тестовая база данных H2, которая позволяет производить операции в оперативной памяти.


4. Сделан нагрузочный тест при помощи python скрипта, который в 10 потоках отправляет 10000 запросов на внос депозита (больше 1000RPS), ни одного ответа 500 получено не было. В проекте файл, содержащий скрипт имеет название make_request.py.


5. Приложение и база данных запускаются в Docker контейнере, все система поднимается с помощью docker-compose.


6. Предусмотрена возможность настройки параметров базы данных через docker-compose.yml без пересборки контейнеров. Все изменения в базе данных сохраняются при повторном запуске образов.